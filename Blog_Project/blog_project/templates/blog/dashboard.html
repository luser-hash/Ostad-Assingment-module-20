{% extends "base.html" %}

{% block title %}Dashboard · MyBlog{% endblock %}

{% block content %}
<div class="card">
    <h1 class="page-title" style="margin-bottom:0.25rem;">Dashboard</h1>
    <p class="muted">Welcome, {{ user.username }}.</p>
    <div class="form-actions" style="margin-top:0.75rem;">
        <a href="{% url 'post_create' %}" class="btn">Create new post</a>
    </div>
</div>

<div class="card">
    <h2 class="card-title" style="font-size:1.1rem;">All Posts</h2>

    {% for post in posts %}
        <div style="padding:0.75rem 0; border-bottom:1px solid var(--border);">
            <h3 style="margin:0 0 0.25rem;">
                <a href="{% url 'post_detail' post.slug %}">{{ post.title }}</a>
            </h3>
            <p class="card-meta">
                Status: {{ post.get_status_display }} · {{ post.created_at|date:"M j, Y" }}
            </p>
            <div style="margin-top:0.35rem;">
                <a href="{% url 'post_edit' post.slug %}" class="btn-outline">Edit</a>
                <a href="{% url 'post_delete' post.slug %}" class="btn-danger" style="margin-left:0.4rem;">Delete</a>
            </div>
        </div>
    {% empty %}
        <p class="muted" style="margin-top:0.5rem;">You have not created any posts yet.</p>
    {% endfor %}
</div>
{% endblock %}
